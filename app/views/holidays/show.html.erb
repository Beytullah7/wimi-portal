<%- model_class = Holiday -%>
<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.titleize %></h1>
</div>


<div class="panel panel-default">
  <div class="panel-heading">
    <div class="row">
      <div class="col-sm-6">
      </div>
      <div class="col-sm-6 text text-right">
        <% if @holiday.status.include? 'edited' %>
          <%= link_to t('.edit', :default => t("helpers.links.edit")),
                        edit_holiday_path(@holiday), class: 'btn btn-primary' %>
        <% else %>
          <!--div title=i18n:translate="string:filed_request_cant_be_edited" rel="tooltip"-->
          <div data-i18n="[title]filed_request_cant_be_edited", rel="tooltip">
            <%= link_to t('.edit', :default => t("helpers.links.edit")),
                          edit_holiday_path(@holiday), class: 'btn btn-primary', disabled: true %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
  <div class="panel panel-body">
    <dl class="dl-horizontal">
      <dt><strong><%= model_class.human_attribute_name(:start) %>:</strong></dt>
      <dd><%=l @holiday.start %><%=l @holiday.start, format: ' (%A)' %></dd>
      <dt><strong><%= model_class.human_attribute_name(:end) %>:</strong></dt>
      <dd><%=l @holiday.end %><%=l @holiday.end, format: ' (%A)' %></dd>
      <dt><strong><%= model_class.human_attribute_name(:duration) %>:</strong></dt>
      <dd><%= @holiday.duration %>&nbsp<%= t('.days') %></dd>
      <dt><strong><%= model_class.human_attribute_name(:reason_for_special_leave) %>:</strong></dt>
      <dd><%= @holiday.comment %></dd>
      <dt><strong><%= model_class.human_attribute_name(:annotations) %>:</strong></dt>
      <dd><%= @holiday.annotation %></dd>
      <dt><strong><%= model_class.human_attribute_name(:replacement) %>:</strong></dt>
      <dd><%= User.find(@holiday.replacement_user_id).name %></dd>
      <dt><strong><%= model_class.human_attribute_name(:status) %>:</strong></dt>
      <dd><%= @holiday.status %></dd>
    </dl>
  </div>
</div>

<%= link_to t('.file'), 
            holiday_path(@holiday),
            method: @holiday.update_attribute(:status, 'filed'),
            remote: true,
            class: 'btn btn-primary' %>
