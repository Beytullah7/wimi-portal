<%- model_class = TimeSheet -%>
<div class="col-md-12">
  <div class="display">
    <div class="page-header">
      <div class="h1">
        <div class="row">
          <div class="col-sm-9">
            <%= t('.title') %>
          </div>
          <div class="col-sm-3">
            <%= link_to t('helpers.links.back'), time_sheets_path, class: 'btn btn-default btn-block'%>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <p>
          <% total_time = @time_sheet.sum_minutes %>
          <strong><%= t('.total_work_time')%>:</strong>
          <%= t('.time_format', hours: total_time / 60, minutes: total_time % 60) %>
        </p>
        <p>
          <strong><%= model_class.human_attribute_name(:handed_in) %>:</strong>
          <%= t @time_sheet.handed_in.to_s %> <%= "(#{l @time_sheet.hand_in_date})" if @time_sheet.hand_in_date %>
        </p>
        <p>
          <strong><%= model_class.human_attribute_name(:status) %>:</strong>
          <% if @time_sheet.handed_in %>
            <% label_type = {"pending" => "default", "accepted" => "success", "rejected" => "danger"}[@time_sheet.status] %>
            <span class="label label-<%= label_type %>"><%= t("activerecord.attributes.time_sheet.status_enum.#{@time_sheet.status}") %></span>
          <% else %>
            <%= t("activerecord.attributes.time_sheet.status_enum.created") %>
          <% end %>
        </p>
      </div>
    </div>
    <%= render partial: 'form', locals: {readonly: true, disable_date: true} %>
    <%= render 'show_footer' %>
  </div>
</div>
